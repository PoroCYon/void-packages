# Template file for 'bonzomatic'
pkgname=bonzomatic
version=20201127
revision=1
#archs="i686 x86_64"
#wrksrc=
#create_wrksrc=yes
build_style=cmake
configure_args="-DBONZOMATIC_USE_SYSTEMWIDE_GLFW=ON -DBONZOMATIC_USE_SYSTEMWIDE_GLEW=ON"
patch_args="-Np1"
#make_build_args=""
#make_install_args=""
conf_files="/etc/bonzomatic/config.json"
#make_dirs="/var/log/dir 0755 root root"
hostmakedepends="pkg-config"
makedepends="glfw-devel glew-devel glu-devel libX11-devel fontconfig-devel alsa-lib-devel"
depends=""
short_desc="Live shader coding tool and Shader Showdown workhorse"
maintainer="PoroCYon <porocyon@titandemo.org>"
license="Unlicense"
homepage="https://github.com/gargaj/bonzomatic"
distfiles="https://pcy.be/tmp/src/$pkgname-$version.tar.xz"
checksum=3327ec81bef69fb0f3c1dc02dd1552d6fdfdeb3fd84158ce7e0e2f872b0a2aa1

do_install() {
	vinstall data/unix/bonzomatic.desktop 644 usr/share/applications
	vinstall data/unix/icon.png 644 usr/share/icons bonzomatic.png

	vlicense LICENSE
	vdoc README.md

	vbin build/bonzomatic
}

post_install() {
	vmkdir etc/bonzomatic
	vinstall "$FILESDIR/config.json" 644 etc/bonzomatic

	vmkdir usr/share/bonzomatic
	vcopy "$FILESDIR/textures" usr/share/bonzomatic
}
