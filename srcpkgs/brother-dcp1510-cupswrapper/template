# Template file for 'brother-dcp1510-cupswrapper'
pkgname=brother-dcp1510-cupswrapper
version=3.0.1
revision=3
archs="i686 x86_64"
create_wrksrc=yes
hostmakedepends="rpmextract"
depends="brother-dcp1510-lpr cups"
short_desc="CUPS wrapper driver for the Brother DCP-1510 printer/scanner"
maintainer="PoroCYon <porocyon@titandemo.org>"
license="GPL-2.0-only"
homepage="https://support.brother.com/g/b/index.aspx"
distfiles="https://www.brother.com/pub/bsc/linux/dlf/dcp1510cupswrapper-3.0.1-1.i386.rpm"
checksum=f4af8f3455a7d6860b54b1a175d4440ac4b2c8d7641f2fdd9410c4a3a1ce8c79
nopie=yes

do_install() {
	mkdir -p ${DESTDIR}
	cp -avr opt/ ${DESTDIR}
	vinstall ${FILESDIR}/43-cups-usb-dcp1510.rules 644 /usr/lib/udev/rules.d/

	vmkdir usr/share/cups/model
	vmkdir usr/lib/cups/filter
	ln -sv /opt/brother/Printers/DCP1510/cupswrapper/brother-DCP1510-cups-en.ppd ${DESTDIR}/usr/share/cups/model
	ln -sv /opt/brother/Printers/DCP1510/cupswrapper/brother_lpdwrapper_DCP1510 ${DESTDIR}/usr/lib/cups/filter
}
